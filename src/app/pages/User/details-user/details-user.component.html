<main id="main" class="main">
  <div class="pagetitle">
     <h1>Form Elements</h1>
     <nav>
        <ol class="breadcrumb">
           <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
           <li class="breadcrumb-item">Forms</li>
           <li class="breadcrumb-item active">Elements</li>
        </ol>
     </nav>
  </div>
  <section class="section">
<div *ngIf="viewMode; else editable">
  <div *ngIf="currentUser.id">
    <h4>User</h4>
    <div>
      <label><strong>user name:</strong></label> {{ currentUser.username }}
    </div>
    <div>
      <label><strong>Email:</strong></label>
      {{ currentUser.email }}
    </div>

    <div>
      <label><strong>visibility:</strong></label>
      {{ currentUser.visibility ? "visibile" : "unvisible" }}
    </div>
    <div>
      <label><strong>enabled:</strong></label>
      {{ currentUser.enabled ? "enabled" : "disable" }}
    </div>
    <div>
      <label><strong>validity:</strong></label>
      {{ currentUser.validity ? "valid" : "unvalid" }}
    </div>

    <button
      class="btn btn-info"
      routerLink="/userdetails/{{ currentUser.id }}"
    >
      Edit
  </button>
  </div>

  <div *ngIf="!currentUser">
    <br />
    <p>Please click on a User...</p>
  </div>
</div>

<ng-template #editable>
  <div *ngIf="currentUser.id" class="edit-form">
    <h4>User</h4>
    <form>
      <div class="form-group">
        <label for="username">user name</label>
        <input
          type="text"
          class="form-control"
          id="username"
          [(ngModel)]="currentUser.username"
          name="username"
        />
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input
          type="text"
          class="form-control"
          id="email"
          [(ngModel)]="currentUser.email"
          name="email"
        />
      </div>


      <div class="form-group">
        <label><strong>Status:</strong></label>
        {{ currentUser.enabled ? "enable" : "disable" }}
      </div>

      <div class="form-group">
        <label><strong>Status:</strong></label>
        {{ currentUser.validity ? "valide" : "unvalide" }}
      </div>

      <div class="form-group">
        <label><strong>Status:</strong></label>
        {{ currentUser.visibility ? "visibile" : "unvisible" }}
      </div>
    </form>

    <button
      class="btn btn-danger"
      *ngIf="currentUser.enabled"
      (click)="updateEnability(false)"
    >
      Disable
    </button>
    <button
      *ngIf="!currentUser.enabled"
      class="btn btn-success"
      (click)="updateEnability(true)"
    >
      Enable
    </button>

    <button
      class="btn btn-danger"
      *ngIf="currentUser.enabled"
      (click)="updateValidity(false)"
    >
      Valide
    </button>
    <button
      *ngIf="!currentUser.enabled"
      class="btn btn-success"
      (click)="updateValidity(true)"
    >
      Unvalide
    </button>

    <button
      class="btn btn-danger"
      *ngIf="currentUser.enabled"
      (click)="updateVisibility(false)"
    >
      Unvisible
    </button>
    <button
      *ngIf="!currentUser.enabled"
      class="btn btn-success"
      (click)="updateVisibility(true)"
    >
      Visible
    </button>

    <button class="btn btn-danger" (click)="deleteUser()">
      Delete
    </button>

    <button
      type="submit"
      class="btn btn-success"
      (click)="updateUser()"
    >
      Update
    </button>
    <p>{{ message }}</p>
  </div>

  <div *ngIf="!currentUser.id">
    <br />
    <p>Cannot access this User...</p>
  </div>
</ng-template>
</section>
</main>
