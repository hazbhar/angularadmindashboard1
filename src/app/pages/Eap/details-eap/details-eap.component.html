<table *ngIf="eaplist$.length==0">
  <td><div class=" col-sm-9" class="alert
      alert-danger"
      role="alert">
      No Eap Available
    </div></td>
</table>
<table style="width:100%" *ngIf="eaplist$.length!=0">

  <tr *ngFor="let element of eaplist$;let ep as index">
    <td>
    <form id="msform">
      <h2 class="fs-title">Infos des Eaps </h2>

      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Eap *</label>
        <div class="col-sm-9"> <input class="form-control"
            type="file"
            (change)="handleFileInputeap($event)"
            name="eap" id="eap"
            required>
        </div>
      </div>

      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">date Eap *</label>
        <div class="col-sm-9"> <input class="form-control"
            type="date"
            name="dateEap" id="dateEap"
            [(ngModel)]="element.dateEap"

            required>
        </div>
      </div>


      <div class="form-group">

        <div class="text-center">
          <button
            type="submit"
            class="submit"(click)="updateEap(element)">Update
          </button>
          <button class="btn
          btn-danger" (click)="deleteEap(element.id)">delete (-)</button>

        </div>
      </div>

    </form>
  </td>
  </tr>


  <div>

  </div>


  <div class="row mb-3" *ngIf="isaddedfailed" class="alert
  alert-danger" role="alert">
  Adding Eap failed: {{ errorMessage }}
</div>

<div class="row mb-3" *ngIf="submitted" class="alert alert-success">
  <h4>Eap was submitted successfully!</h4>
</div>
<div class="row mb-3" *ngIf="isdeletedfailed" class="alert
alert-danger" role="alert">
deleting Eap failed: {{ errorMessage }}
</div>

<div class="row mb-3" *ngIf="isdeleted" class="alert alert-success">
<h4>Eap was deleted successfully!</h4>
</div>
</table>

<table style="width:100%" *ngIf="addEap">
  <tr >
    <td>
    <form [formGroup]="EapFrm" id="msform">

      <div formArrayName="eapfr">
        <div *ngFor="let item of Eaps.controls;let
          i=index">
          <div [formGroupName]="i">
            <h2 class="fs-title">Infos des Eaps </h2>

            <div class="row mb-3">
              <label class="col-sm-3 col-form-label">Eap *</label>
              <div class="col-sm-9"> <input class="form-control"
                  type="file"
                  (change)="handleFileInputeap($event)"
                  name="eap" id="eap"
                  formControlName="eap"
                  required>
              </div>
            </div>

            <div class="row mb-3">
              <label class="col-sm-3 col-form-label">date Eap *</label>
              <div class="col-sm-9"> <input class="form-control"
                  type="date"
                  name="dateEap" id="dateEap"
                  formControlName="dateEap"
                  required>
              </div>
            </div>

      <div class="form-group">

        <div class="text-center">
          <button
          [disabled]="!Eaps.valid"
            type="submit"
            class="submit"(click)="saveEap()">Submit
          </button>
          <button class="btn
          btn-danger"
          (click)="delnewEap(i)">remove (-)</button>
        </div>
      </div>

          </div>
        </div>
      </div>
      <div class="row mb-3" *ngIf="isaddedfailed" class="alert
      alert-danger" role="alert">
      Adding Eap failed: {{ errorMessage }}
    </div>

    <div class="row mb-3" *ngIf="submitted" class="alert alert-success">
      <h4>Eap was submitted successfully!</h4>
    </div>
    </form>
  </td>
  </tr>
</table>
<tr> <button  *ngIf="!addEap" (click)="addnewEap()" class="add">add (+)</button>
</tr>

